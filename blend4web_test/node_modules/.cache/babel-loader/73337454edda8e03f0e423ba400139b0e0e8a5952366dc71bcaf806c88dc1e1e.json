{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      selectedImage: null,\n      file: null // Добавлено для хранения объекта файла\n    };\n  },\n  methods: {\n    handleFileUpload(event) {\n      this.file = event.target.files[0]; // Сохраняем файл для дальнейшей отправки\n      if (this.file) {\n        const reader = new FileReader();\n        reader.onload = () => {\n          this.selectedImage = reader.result;\n          this.uploadFile(); // Вызываем метод uploadFile после загрузки файла в FileReader\n        };\n        reader.readAsDataURL(this.file);\n      }\n    },\n    uploadFile() {\n      const formData = new FormData();\n      formData.append('file', this.file); // 'file' - имя параметра запроса, ожидаемое сервером\n\n      axios.post('https://your-api-url.com/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(response => {\n        // Обработка успешной отправки файла\n        console.log('Файл успешно загружен', response);\n      }).catch(error => {\n        // Обработка ошибки отправки\n        console.error('Ошибка при загрузке файла', error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","data","selectedImage","file","methods","handleFileUpload","event","target","files","reader","FileReader","onload","result","uploadFile","readAsDataURL","formData","FormData","append","post","headers","then","response","console","log","catch","error"],"sources":["C:\\Users\\golov\\OneDrive\\Рабочий стол\\projectTest\\blend4web_test\\src\\App.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-container fluid>\n      <v-file-input label=\"Выбрать файл\" @change=\"handleFileUpload\" class=\"file-input\"></v-file-input>\n      <v-img v-if=\"selectedImage\" :src=\"selectedImage\" width=\"300\" height=\"200\" class=\"uploaded-image\"></v-img>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      selectedImage: null,\n      file: null // Добавлено для хранения объекта файла\n    };\n  },\n  methods: {\n    handleFileUpload(event) {\n      this.file = event.target.files[0]; // Сохраняем файл для дальнейшей отправки\n      if (this.file) {\n        const reader = new FileReader();\n        reader.onload = () => {\n          this.selectedImage = reader.result;\n          this.uploadFile(); // Вызываем метод uploadFile после загрузки файла в FileReader\n        };\n        reader.readAsDataURL(this.file);\n      }\n    },\n    uploadFile() {\n      const formData = new FormData();\n      formData.append('file', this.file); // 'file' - имя параметра запроса, ожидаемое сервером\n\n      axios.post('https://your-api-url.com/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      })\n      .then(response => {\n        // Обработка успешной отправки файла\n        console.log('Файл успешно загружен', response);\n      })\n      .catch(error => {\n        // Обработка ошибки отправки\n        console.error('Ошибка при загрузке файла', error);\n      });\n    }\n  }\n};\n</script>\n\n<style>\n.file-input {\n  margin-bottom: 20px;\n}\n\n.uploaded-image {\n  margin-top: 20px;\n}\n</style>\n"],"mappings":"AAUA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,aAAa,EAAE,IAAI;MACnBC,IAAI,EAAE,IAAG,CAAE;IACb,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgBA,CAACC,KAAK,EAAE;MACtB,IAAI,CAACH,IAAG,GAAIG,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,EAAE;MACnC,IAAI,IAAI,CAACL,IAAI,EAAE;QACb,MAAMM,MAAK,GAAI,IAAIC,UAAU,CAAC,CAAC;QAC/BD,MAAM,CAACE,MAAK,GAAI,MAAM;UACpB,IAAI,CAACT,aAAY,GAAIO,MAAM,CAACG,MAAM;UAClC,IAAI,CAACC,UAAU,CAAC,CAAC,EAAE;QACrB,CAAC;QACDJ,MAAM,CAACK,aAAa,CAAC,IAAI,CAACX,IAAI,CAAC;MACjC;IACF,CAAC;IACDU,UAAUA,CAAA,EAAG;MACX,MAAME,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACd,IAAI,CAAC,EAAE;;MAEpCH,KAAK,CAACkB,IAAI,CAAC,iCAAiC,EAAEH,QAAQ,EAAE;QACtDI,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,EACAC,IAAI,CAACC,QAAO,IAAK;QAChB;QACAC,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAAEF,QAAQ,CAAC;MAChD,CAAC,EACAG,KAAK,CAACC,KAAI,IAAK;QACd;QACAH,OAAO,CAACG,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD,CAAC,CAAC;IACJ;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}