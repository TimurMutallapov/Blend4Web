{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createBlock as _createBlock, createTextVNode as _createTextVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_file_input = _resolveComponent(\"v-file-input\");\n  const _component_v_img = _resolveComponent(\"v-img\");\n  const _component_v_slider = _resolveComponent(\"v-slider\");\n  const _component_v_btn = _resolveComponent(\"v-btn\");\n  const _component_v_container = _resolveComponent(\"v-container\");\n  const _component_v_card_title = _resolveComponent(\"v-card-title\");\n  const _component_v_card_text = _resolveComponent(\"v-card-text\");\n  const _component_v_spacer = _resolveComponent(\"v-spacer\");\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\");\n  const _component_v_card = _resolveComponent(\"v-card\");\n  const _component_v_dialog = _resolveComponent(\"v-dialog\");\n  const _component_v_app = _resolveComponent(\"v-app\");\n  return _openBlock(), _createBlock(_component_v_app, null, {\n    default: _withCtx(() => [_createVNode(_component_v_container, {\n      fluid: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_file_input, {\n        label: \"Выбрать файл\",\n        onChange: $options.handleFileUpload,\n        class: \"file-input\"\n      }, null, 8 /* PROPS */, [\"onChange\"]), _createCommentVNode(\" Отображение изначально выбранного изображения \"), $data.selectedImage ? (_openBlock(), _createBlock(_component_v_img, {\n        key: 0,\n        src: $data.selectedImage,\n        width: \"300\",\n        height: \"200\",\n        class: \"uploaded-image\"\n      }, null, 8 /* PROPS */, [\"src\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Слайдеры для настройки параметров \"), _createVNode(_component_v_slider, {\n        modelValue: $data.samplingSteps,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.samplingSteps = $event),\n        label: `Sampling Steps: ${$data.samplingSteps}`,\n        min: \"1\",\n        max: \"100\",\n        step: \"1\",\n        \"thumb-label\": \"always\",\n        class: \"my-5\"\n      }, null, 8 /* PROPS */, [\"modelValue\", \"label\"]), _createVNode(_component_v_slider, {\n        modelValue: $data.cfgScale,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.cfgScale = $event),\n        label: `CFG Scale: ${$data.cfgScale}`,\n        min: \"1\",\n        max: \"30\",\n        step: \"1\",\n        \"thumb-label\": \"always\",\n        class: \"my-5\"\n      }, null, 8 /* PROPS */, [\"modelValue\", \"label\"]), _createVNode(_component_v_slider, {\n        modelValue: $data.denoisingStrength,\n        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.denoisingStrength = $event),\n        label: `Denoising Strength: ${$data.denoisingStrength}`,\n        min: \"0\",\n        max: \"1\",\n        step: \"0.01\",\n        \"thumb-label\": \"always\",\n        class: \"my-5\"\n      }, null, 8 /* PROPS */, [\"modelValue\", \"label\"]), _createVNode(_component_v_btn, {\n        color: \"primary\",\n        onClick: $options.applyChanges,\n        class: \"apply-button\"\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"Применить\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    }), _createCommentVNode(\" Диалоговое окно для отображения результатов \"), _createVNode(_component_v_dialog, {\n      modelValue: $data.dialog,\n      \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.dialog = $event),\n      persistent: \"\",\n      \"max-width\": \"800px\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_v_card, null, {\n        default: _withCtx(() => [_createVNode(_component_v_card_title, {\n          class: \"headline\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(\"Результат\")]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_card_text, null, {\n          default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.images, (image, index) => {\n            return _openBlock(), _createElementBlock(\"div\", {\n              key: 'received-' + index\n            }, [_createVNode(_component_v_img, {\n              src: image,\n              width: \"300\",\n              height: \"200\",\n              class: \"result-image\"\n            }, null, 8 /* PROPS */, [\"src\"])]);\n          }), 128 /* KEYED_FRAGMENT */))]),\n          _: 1 /* STABLE */\n        }), _createVNode(_component_v_card_actions, null, {\n          default: _withCtx(() => [_createVNode(_component_v_spacer), _createVNode(_component_v_btn, {\n            color: \"green darken-1\",\n            text: \"\",\n            onClick: _cache[3] || (_cache[3] = $event => $data.dialog = false)\n          }, {\n            default: _withCtx(() => [_createTextVNode(\"Закрыть\")]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\"])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["_createBlock","_component_v_app","default","_withCtx","_createVNode","_component_v_container","fluid","_component_v_file_input","label","onChange","$options","handleFileUpload","class","_createCommentVNode","$data","selectedImage","_component_v_img","key","src","width","height","_component_v_slider","modelValue","samplingSteps","_cache","$event","min","max","step","cfgScale","denoisingStrength","_component_v_btn","color","onClick","applyChanges","_createTextVNode","_","_component_v_dialog","dialog","persistent","_component_v_card","_component_v_card_title","_component_v_card_text","_createElementBlock","_Fragment","_renderList","images","image","index","_component_v_card_actions","_component_v_spacer","text"],"sources":["C:\\Users\\golov\\OneDrive\\Рабочий стол\\projectTest\\blend4web_test\\src\\App.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-container fluid>\n      <v-file-input label=\"Выбрать файл\" @change=\"handleFileUpload\" class=\"file-input\"></v-file-input>\n      \n      <!-- Отображение изначально выбранного изображения -->\n      <v-img v-if=\"selectedImage\" :src=\"selectedImage\" width=\"300\" height=\"200\" class=\"uploaded-image\"></v-img>\n      \n      <!-- Слайдеры для настройки параметров -->\n      <v-slider v-model=\"samplingSteps\" :label=\"`Sampling Steps: ${samplingSteps}`\" min=\"1\" max=\"100\" step=\"1\" thumb-label=\"always\" class=\"my-5\"></v-slider>\n      <v-slider v-model=\"cfgScale\" :label=\"`CFG Scale: ${cfgScale}`\" min=\"1\" max=\"30\" step=\"1\" thumb-label=\"always\" class=\"my-5\"></v-slider>\n      <v-slider v-model=\"denoisingStrength\" :label=\"`Denoising Strength: ${denoisingStrength}`\" min=\"0\" max=\"1\" step=\"0.01\" thumb-label=\"always\" class=\"my-5\"></v-slider>\n      \n      <v-btn color=\"primary\" @click=\"applyChanges\" class=\"apply-button\">Применить</v-btn>\n    </v-container>\n\n    <!-- Диалоговое окно для отображения результатов -->\n    <v-dialog v-model=\"dialog\" persistent max-width=\"800px\">\n      <v-card>\n        <v-card-title class=\"headline\">Результат</v-card-title>\n        <v-card-text>\n          <div v-for=\"(image, index) in images\" :key=\"'received-' + index\">\n            <v-img :src=\"image\" width=\"300\" height=\"200\" class=\"result-image\"></v-img>\n          </div>\n        </v-card-text>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"green darken-1\" text @click=\"dialog = false\">Закрыть</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-app>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      selectedImage: null,\n      images: [],\n      samplingSteps: 50,\n      cfgScale: 10,\n      denoisingStrength: 0.30,\n      dialog: false, // Для контроля видимости диалогового окна\n    };\n  },\n  methods: {\n    handleFileUpload(event) {\n      const file = event.target.files[0];\n      if (file) {\n        const reader = new FileReader();\n        reader.onload = () => {\n          this.selectedImage = reader.result;\n          this.images = []; // Очистка при выборе нового файла\n        };\n        reader.readAsDataURL(file);\n      }\n    },\n    applyChanges() {\n      if (!this.selectedImage) {\n        console.error('Изображение не выбрано');\n        return;\n      }\n\n      const param2Value = this.samplingSteps.toString();\n      const param3Value = this.cfgScale.toString();\n      const param4Value = this.denoisingStrength.toString();\n\n      const base64Image = this.selectedImage.split(',')[1];\n\n      axios.post('http://127.0.0.1:5000/api/custom_task', {\n        param1: base64Image,\n        param2: param2Value,\n        param3: param3Value,\n        param4: param4Value,\n      }, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n      .then(response => {\n        if (response.data.images && response.data.images.length > 0) {\n          this.images = response.data.images.map(img => `data:image/png;base64,${img}`);\n          this.dialog = true; // Открытие диалогового окна после получения изображений\n        } else {\n          console.error('Ответ сервера не содержит изображения');\n        }\n      })\n      .catch(error => {\n        console.error('Ошибка при запросе к серверу:', error);\n      });\n    }\n  }\n};\n</script>\n\n<style>\n.file-input, .my-5, .result-image {\n  margin-bottom: 20px;\n}\n\n.uploaded-image, .result-image {\n  margin-top: 20px;\n}\n\n.apply-button {\n  margin-top: 20px;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}